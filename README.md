# lab_1
Лабораторная работа №1 — Shell
**Выполнили:**  
Юлия Зубова 
Темирлан Койбаев  
Гнеушева Дарина
---
### Цель работы
Создать два скрипта, которые позволяют автоматически проверять заполненность папки, архивировать старые файлы при превышении заданного порога и проводить тестирование корректности работы основного скрипта

### Ход выполнения
В ходе лабораторной работы были реализованы два файла: `lab1_main.sh` и `lab1_tester.sh`.
Первый файл выполнялся постепенно, по пунктам.

Скрипт **lab1_main.sh** выполняет основную функциональность:
1. Принимает путь к папке и порог заполнения диска в процентах.  
2. Проверяет текущую заполненность папки.  
3. Если заполненность превышает указанный порог, выбирает N самых старых файлов, архивирует их и удаляет из исходной директории.  
4. Выводит пользователю сообщения о ходе выполнения, включая процент заполнения и путь к архиву.

Скрипт **lab1_tester.sh** используется для тестирования работы основного скрипта:
1. Создаёт тестовую среду, формируя папку `/log` с размером не менее 0.5 GB.  
В ходе работы, поняли, что лучше использовать виртуальный диск. Поэтому добавили новые исправленные файлы.
2. Запускает `lab1_main.sh` с разными параметрами порога.  
3. Проверяет, что при превышении порога создаётся архив и исходные файлы корректно удаляются.  
4. После выполнения тестов очищает временные данные, чтобы не требовалось ручных действий.  
---
### Реализованные пункты задания
- **Пункт 1:** Проверка заполненности папки в процентах.  
- **Пункт 2:** Архивация файлов при превышении заданного порога заполнения.  
- **Пункт 3:** Определение и архивация N самых старых файлов.  
- **Пункт 4:** Автоматизированное тестирование корректности работы основного скрипта.  
- **Пункт 5:** Понятный и информативный вывод без лишней информации.
---
P.S  необходимо смотреть самые последние добавленные файлы, ведь именно там релизуется проверка через виртуальный диск.
### Пример запуска
1. Сделать файлы исполняемыми:
   ```bash
   chmod +x lab1_main.sh.sh lab1_tester.sh
2. проверить в самому 
   ./lab1_main.sh ~/lab1 70

3. запустить тесты
   ./lab1_tester.sh
